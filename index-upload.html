<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IFSI Lannion - Upload de cours</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“š IFSI Lannion 2025</h1>
            <h2>Ajout de nouveaux cours</h2>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">ðŸ“„</div>
                        <h3>Glissez-dÃ©posez votre fichier .odt ici</h3>
                        <p>ou</p>
                        <button type="button" class="browse-btn" onclick="document.getElementById('fileInput').click()">
                            Parcourir les fichiers
                        </button>
                        <input type="file" id="fileInput" accept=".odt" style="display: none;">
                        <p class="file-info">Seuls les fichiers .odt sont acceptÃ©s</p>
                    </div>
                </div>

                <div class="file-preview" id="filePreview" style="display: none;">
                    <h3>Fichier sÃ©lectionnÃ© :</h3>
                    <div class="file-item">
                        <span class="file-name" id="fileName"></span>
                        <button class="remove-btn" onclick="removeFile()">âœ–</button>
                    </div>
                </div>
            </div>

            <div class="preview-section" id="previewSection" style="display: none;">
                <h3>AperÃ§u du contenu extrait :</h3>
                <div class="metadata-preview" id="metadataPreview"></div>
                <div class="definitions-preview" id="definitionsPreview"></div>
            </div>

            <div class="actions">
                <button class="upload-btn" id="uploadBtn" onclick="processFile()" disabled>
                    ðŸš€ Ajouter au fichier JSON
                </button>
                <button class="reset-btn" onclick="resetForm()">
                    ðŸ”„ Recommencer
                </button>
            </div>

            <div class="status" id="status"></div>

            <div class="stats-section">
                <div class="stats-header">
                    <h3>ðŸ“Š Statistiques actuelles</h3>
                    <button class="refresh-btn" onclick="refreshStats()" title="Actualiser les statistiques">
                        ðŸ”„
                    </button>
                </div>
                <p class="stats-subtitle">DonnÃ©es mises Ã  jour automatiquement toutes les 30 secondes</p>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-item">
                        <span class="stat-number" id="totalCourses" title="Nombre total de cours dans la base">-</span>
                        <span class="stat-label">Cours</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="totalTerms" title="Nombre total de termes/dÃ©finitions">-</span>
                        <span class="stat-label">Termes</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="studiedTerms" title="Nombre de termes dÃ©jÃ  Ã©tudiÃ©s">-</span>
                        <span class="stat-label">Ã‰tudiÃ©s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="correctAnswers" title="Nombre de rÃ©ponses correctes">-</span>
                        <span class="stat-label">Corrects</span>
                    </div>
                    <!-- Le taux de rÃ©ussite sera ajoutÃ© dynamiquement par JavaScript -->
                </div>
                <div class="last-update">
                    <small id="lastUpdate">DerniÃ¨re mise Ã  jour : <span id="updateTime">-</span></small>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>